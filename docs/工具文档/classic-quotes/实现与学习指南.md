# Classic Quotes 实现与学习指南（无数据库单文件版）

本方案遵循：无数据库依赖、轻量架构、单文件实现、结构简洁、可维护性良好、对齐参考布局。实现文件：`src/app/tools/classic-quotes/page.tsx`。

## 架构与原则
- 单文件实现：页面、状态、交互全部在一个 React 客户端组件中完成。
- 无后端/数据库：数据使用内置常量数组；收藏用 `localStorage`，不涉及服务端持久化。
- 轻量交互：随机挑选语录、分类过滤、自动更新（定时器）均为前端逻辑。
- 参考布局一致：顶部导航、内容卡片、底部信息栏三段式；移动端适配与需求一致。

## 页面结构
- 顶部导航栏：左侧返回首页，标题“经典语录”，右侧“我的收藏”与移动端“分类”按钮。
- 中间内容区：语录卡片（正文、作者、功能按钮），加载/错误/无数据状态；PC 端分类按钮在右上。
- 底部信息栏：PC 显示“API连接状态/更新时间/版权”；移动端合并为“API状态+更新时间”，居中。

## 关键功能
- 语录数据：`QUOTES` 常量，含 `id/text/author/category`。
- 分类过滤：`cat` 状态；PC 按钮组，移动端抽屉式下拉菜单（占宽度 80%）。
- 自动更新：`auto` 状态，`setInterval` 每 5s 刷新一条；离开时清理定时器。
- 收藏功能：`favIds` 数组，使用 `localStorage` 持久化；“我的收藏”独立视图，支持清空。
- API 状态模拟：`api` 状态（connecting/ok/error）；错误与重试行为覆盖 API 失败与数据获取失败。
- 加载与慢提示：加载动画为左右摇摆（wobble），超过 2 秒显示“加载较慢，建议检查网络”。
- 无数据提示：分类后无数据时显示“📭 暂无语录数据，请联系管理员添加”。
- 复制文本：写入剪贴板，格式为“正文 — 作者”。

## 移动端适配
- 顶部高度 50px；内容区顶距导航 16px（约 80px/pc 的轻量化对齐）、底部留 24px；
- 分类菜单：按钮触发后以抽屉形式出现，宽度 80%，遮罩可关闭；
- 底部信息栏：高度 50px，居中显示“API状态 + 更新时间”，隐藏版权。

## 学习要点
- 单文件组织：将数据、状态、交互集中，减少跨文件复杂度，便于新手理解。
- 纯前端状态：通过 `useState/useEffect` 控制 UI 状态，`localStorage` 做轻量持久化。
- 适配策略：结合 `md:hidden` 等类和固定高度，分别适配移动端与 PC。
- 动画实现：使用 styled-jsx 定义 `@keyframes`，在特定元素上应用自定义动画。

## 快速入口
- 页面路径：`/tools/classic-quotes`
- 文件位置：`src/app/tools/classic-quotes/page.tsx`
- 相关文档：`docs/工具文档/classic-quotes/requirement`（需求）、本指南（实现学习）

## 维护建议
- 如需扩展分类或语录，直接在 `QUOTES` 常量中添加；
- 如需切换到真实 API，可替换 `fetchQuote` 中的模拟逻辑，但仍建议保持无数据库依赖；
- 保持单文件原则，除非确有必要拆分；

## 与需求的对齐清单
- 整体布局：顶部/内容/底部三段式，对齐 3.1；
- 移动端布局：顶部 50px、内容宽 = 屏幕 - 40px、功能按钮横向铺满、间距约 10px、底部信息栏合并显示；
- 加载状态：📜 文本 + wobble 动画，慢提示 >2s；
- 错误状态：API失败与数据获取失败分别提示并可重试；无数据提示符合颜色要求（#718096）。